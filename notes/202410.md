# 2024/10/19

## TIL
[til(Today I Learned) ã‚’ 4 å¹´é–“ç¶šã‘ã¦ã¿ã¦](https://quramy.medium.com/til-today-i-learned-%E3%82%92-4-%E5%B9%B4%E9%96%93%E7%B6%9A%E3%81%91%E3%81%A6%E3%81%BF%E3%81%A6-239aed1a9814) inspired me to start TIL.

Iâ€™m going to start writing short notes and make it a habit.

## TypeScript 5.6 RC

[TypeScript 5.6 RC](https://devblogs.microsoft.com/typescript/announcing-typescript-5-6-rc/)
### Disallowed Nullish and Truthy Checks
å¸¸ã« true ã‚„ false ã‚’è¿”ã™å ´åˆã«è­¦å‘Šã‚’ã ã—ã¦ãã‚Œã‚‹ã€‚

```ts
if (/0x[0-9a-f]/) {
  // Oops! This block always runs.
// ...
}
```

`??` ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨ã—ãŸã¨ãã€æ¯”è¼ƒæ¼”ç®—å­ã¨ã®çµ„ã¿åˆã‚ã›ã§å¤±æ•—ã—ã¦ã„ã‚‹å ´åˆã‚‚æ•™ãˆã¦ãã‚Œã‚‹ã€‚

> [!NOTE]
> `??` ã¯æ—¥æœ¬èªã§ã¯ã€Œnullish æ¼”ç®—å­ã€ã€è‹±èªã§ã¯ã€Œnullish coalescing operatorã€ã¨å‘¼ã°ã‚Œã‚‹


```ts
function isValid(value: string | number, options: any, strictness: "strict" | "loose") {
  if (strictness === "loose") {
    value = +value
  }
  return value < options.max ?? 100;
  // Oops! This is parsed as (value < options.max) ?? 100
  // value is always less than options.max
}
```

ã‚‚ã—ãã¯ã€æ‹¬å¼§å¿˜ã‚Œã§å¸¸ã« true ã‚’è¿”ã™å ´åˆã‚‚æ•™ãˆã¦ãã‚Œã‚‹ã€‚

```ts
if (
  isValid(primaryValue, "strict") || isValid(secondaryValue, "strict") ||
  isValid(primaryValue, "loose" || isValid(secondaryValue, "loose"))
) {
  // ^^^^ ğŸ‘€ Did we forget a closing ')'?
}

```

ESLint `no-constant-binary-expression` ãƒ«ãƒ¼ãƒ«ã¨ä¼¼ã¦ã„ã‚‹ã€‚
ä»Šå›ã®æ©Ÿèƒ½ã¯ä¾‹ãˆã° while ãƒ«ãƒ¼ãƒ—ã§å¸¸ã« true ã‚’è¿”ã™å ´åˆã¯è¨±å¯ã™ã‚‹ã¨ã„ã£ãŸé•ã„ãŒã‚ã‚‹ã€‚

```ts
while (true) {
  doStuff();

if (something()) {
    break;
  }

  doOtherStuff();
}
```
